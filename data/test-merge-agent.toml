[agents.parent]
template = true
description = "I am parent"
prompt = "i tell you what to do"
model = "claude"
resources = ["file://parent.md", "file://README.md"]
tools = ["web_search", "shell"]
allowedTools = ["write"]
welcomeMessage = "parents are better than children"

[agents.parent.knowledge.docs]
source = "file://./parent-docs"
description = "Parent documentation"

[agents.parent.toolAliases]
execute_bash = "shell"
fs_read = "read"

[agents.parent.nativeTools.shell]
allow = ["git status .*", "git pull ,*"]
deny = ["git push .*"]

[agents.parent.nativeTools.write]
allow = ["./src/*", "./scripts/**"]
deny = ["Cargo.loc"]

[agents.parent.nativeTools.read]
allow = ["./src/*", "./scripts/**"]
deny = ["Cargo.loc"]

[agents.parent.hooks.agentSpawn.spawn]
command = "echo override me"

[agents.parent.hooks.userPromptSubmit.submit]
command = "echo user submitted"

[agents.parent.hooks.preToolUse.pre]
command = "echo before tool"
matcher = "git.*"

[agents.parent.hooks.postToolUse.post]
command = "echo after tool"

[agents.parent.hooks.stop.stop]
command = "echo stopped"

[agents.parent.subagents]
allow = ["frontend", "backend"]

[agents.child]
template = false
useLegacyMcpJson = true
description = "I am a child"
resources = ["file://child.md", "file://README.md"]
inherits = ["parent"]
tools = ["@awsdocs", "shell"]
welcomeMessage = "children are better than parents"
keyboardShortcut = "ctrl+shift+a"

[agents.child.knowledge.docs]
indexType = "best"

[agents.child.knowledge.api]
source = "file://./api-docs"
description = "API documentation"

[agents.child.toolAliases]
execute_bash = "shell"

[agents.child.nativeTools.write]
forceAllow = ["Cargo.lock"]

[agents.child.nativeTools.shell]
forceAllow = ["git push .*"]

[agents.child.hooks.agentSpawn.spawn]
command = "echo i have spawned"

[agents.child.subagents]
deny = ["backend"]
